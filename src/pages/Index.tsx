import { useEffect, useRef, useCallback } from "react";
import { useNavigate } from "react-router-dom";
import { StoreHeader } from "@/components/StoreHeader";
import { ProductCard } from "@/components/ProductCard";
import { SearchBar } from "@/components/SearchBar";
import { PromoBanners } from "@/components/PromoBanners";
import { StoreTabs } from "@/components/StoreTabs";
import { ArrowLeft, Share2, MoreVertical, Loader2 } from "lucide-react";
import { Button } from "@/components/ui/button";
import { useInfiniteProducts } from "@/hooks/useInfiniteProducts";
const mainBanner = {
  id: "promo-1",
  title: "",
  imageUrl: "https://f63.63pokupki.ru/purchase-baner/x900/42face24b6e9de28615896071317791d6ce3h2t2mkgeking.webp",
};

const smallBanners = [
  {
    id: "collection-1",
    imageUrl:
      "data:image/png;base64,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",
  },
  {
    id: "collection-2",
    imageUrl:
      "data:image/png;base64,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",
  },
  { id: "collection-3", title: "До 1000₽", bgColor: "hsl(25, 85%, 55%)" },
];

const Index = () => {
  const navigate = useNavigate();
  const { products, isLoading, hasMore, loadMore } = useInfiniteProducts();
  const observerRef = useRef<IntersectionObserver | null>(null);
  const loadMoreRef = useRef<HTMLDivElement>(null);

  const handleObserver = useCallback(
    (entries: IntersectionObserverEntry[]) => {
      const [entry] = entries;
      if (entry.isIntersecting && hasMore && !isLoading) {
        loadMore();
      }
    },
    [hasMore, isLoading, loadMore],
  );

  useEffect(() => {
    observerRef.current = new IntersectionObserver(handleObserver, {
      root: null,
      rootMargin: "100px",
      threshold: 0,
    });

    if (loadMoreRef.current) {
      observerRef.current.observe(loadMoreRef.current);
    }

    return () => {
      if (observerRef.current) {
        observerRef.current.disconnect();
      }
    };
  }, [handleObserver]);

  return (
    <div className="min-h-screen bg-background">
      {/* Top Navigation */}
      <header className="sticky top-0 z-50 bg-card shadow-sm">
        <div className="container flex items-center gap-2 h-14 px-4">
          <Button variant="ghost" size="icon" className="text-foreground flex-shrink-0">
            <ArrowLeft className="h-5 w-5" />
          </Button>

          <div className="flex-1">
            <SearchBar />
          </div>

          <div className="flex items-center flex-shrink-0">
            <Button variant="ghost" size="icon" className="text-foreground">
              <Share2 className="h-5 w-5" />
            </Button>
            <Button variant="ghost" size="icon" className="text-foreground">
              <MoreVertical className="h-5 w-5" />
            </Button>
          </div>
        </div>
      </header>

      {/* Main Content */}
      <main className="container px-4 py-4 space-y-4">
        {/* Store Header */}
        <StoreHeader
          name="Grass - быстрая доставка"
          rating={4.8}
          ordersCount={125400}
          likesCount={45200}
          onCatalogClick={() => navigate("/catalog")}
        />

        {/* Promo Banners */}
        <PromoBanners mainBanner={mainBanner} smallBanners={smallBanners} />

        {/* Store Tabs */}
        <StoreTabs />

        {/* Products Grid */}
        <div className="grid grid-cols-2 gap-3">
          {products.map((product) => (
            <ProductCard key={product.id} {...product} />
          ))}
        </div>

        {/* Load More Trigger */}
        <div ref={loadMoreRef} className="flex justify-center py-4">
          {isLoading && <Loader2 className="h-6 w-6 animate-spin text-muted-foreground" />}
          {!hasMore && products.length > 0 && <p className="text-sm text-muted-foreground">Все товары загружены</p>}
        </div>
      </main>
    </div>
  );
};

export default Index;
